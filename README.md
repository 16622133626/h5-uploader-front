# å›¾ç‰‡ä¸Šä¼ ç³»ç»Ÿ (Vue3)

ä¸€ä¸ªåŸºäº Vue3 + Vite çš„å‰ç«¯å›¾ç‰‡ä¸Šä¼ å’Œå±•ç¤ºç³»ç»Ÿã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ” **ç™»å½•è®¤è¯** - åªæœ‰æˆæƒç”¨æˆ·æ‰èƒ½ä¸Šä¼ å›¾ç‰‡
- ğŸ“¤ **å›¾ç‰‡ä¸Šä¼ ** - æ”¯æŒç‚¹å‡»ä¸Šä¼ ï¼Œå®æ—¶é¢„è§ˆ
- ğŸ–¼ï¸ **å›¾ç‰‡å±•ç¤º** - ç¾è§‚çš„ç½‘æ ¼å¸ƒå±€å±•ç¤ºæ‰€æœ‰å›¾ç‰‡
- ğŸ—‘ï¸ **å›¾ç‰‡ç®¡ç†** - æˆæƒç”¨æˆ·å¯ä»¥åˆ é™¤å›¾ç‰‡
- ğŸ’¾ **æœ¬åœ°å­˜å‚¨** - ä½¿ç”¨ localStorage ä¿å­˜å›¾ç‰‡æ•°æ®

## æŠ€æœ¯æ ˆ

- Vue 3 (Composition API)
- Vue Router 4
- Pinia (çŠ¶æ€ç®¡ç†)
- Vite
- CSS3

## å¿«é€Ÿå¼€å§‹

### å¼€å‘ç¯å¢ƒ

1. å®‰è£…å‰ç«¯ä¾èµ–ï¼š
```bash
npm install
```

2. å®‰è£…åç«¯ä¾èµ–ï¼š
```bash
cd server
npm install
```

3. å¯åŠ¨åç«¯æœåŠ¡ï¼š
```bash
cd server
npm start
# æˆ–å¼€å‘æ¨¡å¼ï¼ˆè‡ªåŠ¨é‡å¯ï¼‰
npm run dev
```

4. å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨ï¼ˆæ–°ç»ˆç«¯ï¼‰ï¼š
```bash
npm run dev
```

5. è®¿é—®åº”ç”¨ï¼š
- å‰ç«¯ï¼šhttp://localhost:3000
- åç«¯APIï¼šhttp://localhost:3001

### ç”Ÿäº§ç¯å¢ƒæ„å»º

1. æ„å»ºå‰ç«¯ï¼š
```bash
npm run build
```

2. å‰ç«¯æ„å»ºæ–‡ä»¶åœ¨ `dist` ç›®å½•

3. éƒ¨ç½²åç«¯ï¼š
```bash
cd server
npm start
```

### Docker éƒ¨ç½²ï¼ˆæ¨èï¼‰

```bash
# æ„å»ºå¹¶è¿è¡Œ
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# åœæ­¢
docker-compose down
```

è¯¦ç»†éƒ¨ç½²è¯´æ˜è¯·æŸ¥çœ‹ [DEPLOY.md](./DEPLOY.md)

## æµ‹è¯•è´¦å·

ç³»ç»Ÿé¢„è®¾äº†ä¸¤ä¸ªæµ‹è¯•è´¦å·ï¼š

- ç”¨æˆ·å: `admin` / å¯†ç : `admin123`
- ç”¨æˆ·å: `uploader` / å¯†ç : `upload123`

åªæœ‰ä½¿ç”¨è¿™äº›è´¦å·ç™»å½•çš„ç”¨æˆ·æ‰èƒ½è®¿é—®ä¸Šä¼ é¡µé¢ã€‚

## é¡µé¢è¯´æ˜

### ç™»å½•é¡µé¢ (`/login`)
- ç”¨æˆ·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œç™»å½•
- åªæœ‰æˆæƒç”¨æˆ·æ‰èƒ½æˆåŠŸç™»å½•

### ä¸Šä¼ é¡µé¢ (`/upload`)
- éœ€è¦ç™»å½•åæ‰èƒ½è®¿é—®ï¼ˆè·¯ç”±å®ˆå«ä¿æŠ¤ï¼‰
- æ”¯æŒç‚¹å‡»ä¸Šä¼ å›¾ç‰‡
- å®æ—¶é¢„è§ˆä¸Šä¼ çš„å›¾ç‰‡
- ä¸Šä¼ æˆåŠŸåè‡ªåŠ¨è·³è½¬åˆ°å±•ç¤ºé¡µé¢

### å±•ç¤ºé¡µé¢ (`/gallery`)
- æ‰€æœ‰äººéƒ½å¯ä»¥è®¿é—®
- ä»¥ç½‘æ ¼å½¢å¼å±•ç¤ºæ‰€æœ‰ä¸Šä¼ çš„å›¾ç‰‡
- æ˜¾ç¤ºå›¾ç‰‡åç§°ã€ä¸Šä¼ è€…å’Œä¸Šä¼ æ—¶é—´
- ç™»å½•ç”¨æˆ·å¯ä»¥åˆ é™¤å›¾ç‰‡

## é¡¹ç›®ç»“æ„

```
h5-upload/
â”œâ”€â”€ src/                    # å‰ç«¯æºç 
â”‚   â”œâ”€â”€ views/
â”‚   â”‚   â”œâ”€â”€ Login.vue      # ç™»å½•é¡µé¢
â”‚   â”‚   â”œâ”€â”€ Upload.vue     # ä¸Šä¼ é¡µé¢
â”‚   â”‚   â””â”€â”€ Gallery.vue    # å±•ç¤ºé¡µé¢
â”‚   â”œâ”€â”€ stores/
â”‚   â”‚   â””â”€â”€ auth.js        # è®¤è¯çŠ¶æ€ç®¡ç† (Pinia)
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ api.js         # API è¯·æ±‚å°è£…
â”‚   â”œâ”€â”€ router/
â”‚   â”‚   â””â”€â”€ index.js       # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ App.vue            # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ main.js            # å…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ index.css          # å…¨å±€æ ·å¼
â”œâ”€â”€ server/                 # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ index.js           # æœåŠ¡å™¨å…¥å£
â”‚   â”œâ”€â”€ package.json       # åç«¯ä¾èµ–
â”‚   â”œâ”€â”€ uploads/           # ä¸Šä¼ æ–‡ä»¶ç›®å½•ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
â”‚   â””â”€â”€ data/              # æ•°æ®æ–‡ä»¶ç›®å½•ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
â”œâ”€â”€ dist/                   # å‰ç«¯æ„å»ºè¾“å‡º
â”œâ”€â”€ Dockerfile             # Docker é…ç½®
â”œâ”€â”€ docker-compose.yml     # Docker Compose é…ç½®
â”œâ”€â”€ DEPLOY.md              # éƒ¨ç½²æ–‡æ¡£
â”œâ”€â”€ package.json           # å‰ç«¯ä¾èµ–
â””â”€â”€ vite.config.js         # Vite é…ç½®
```

## API æ¥å£

### è·å–å›¾ç‰‡åˆ—è¡¨
```
GET /api/images
```

### ä¸Šä¼ å›¾ç‰‡
```
POST /api/upload
Content-Type: multipart/form-data
Body: {
  image: File,
  uploader: string
}
```

### åˆ é™¤å›¾ç‰‡
```
DELETE /api/images/:id
```

### å¥åº·æ£€æŸ¥
```
GET /api/health
```

## Vue3 ç‰¹æ€§

- ä½¿ç”¨ Composition API ç¼–å†™ç»„ä»¶
- ä½¿ç”¨ Pinia è¿›è¡ŒçŠ¶æ€ç®¡ç†
- ä½¿ç”¨ Vue Router çš„è·¯ç”±å®ˆå«è¿›è¡Œæƒé™æ§åˆ¶
- å“åº”å¼æ•°æ®ç»‘å®š
- å•æ–‡ä»¶ç»„ä»¶ (SFC)
